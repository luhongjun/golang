# 包编译 go build

## 参考资料

- [go build命令（go语言编译命令）完全攻略](http://c.biancheng.net/view/120.html)

Go语言中使用 go build 命令主要用于编译代码。

Go build 有很多种编译方法，如无参数编译、文件列表编译、指定包编译等，使用这些方法都可以输出可执行文件。

## 概要

使用`go build`时有如下要点：

- 【无参数编译 go build】如果源码中没有依赖 GOPATH 的包引用，那么这些源码可以使用无参数 go build
- 【go build xxx.go yyy.go】如果参数为.go文件或文件列表，则编译为一个个单独的包
- 当编译单个main包（文件），则生成可执行文件
- 当编译单个或多个包非主包时，只构建编译包，但丢弃生成的对象（.a），仅用作检查包可以构建
- 当编译包时，会自动忽略'_test.go'的测试文件

## 命令说明

| 命令参数 | 概要 |
| --- | --- |
| -v | 编译时显示包名 |
| -p [num] | 开启并发编译，默认情况下该值为 CPU 逻辑核数 |
| -a | 强制重新构建（如果重复编译的话会优先使用缓存） |
| -n | 打印编译时会用到的所有命令，但不真正执行 |
| -x | 打印编译时会用到的所有命令 |
| -race | 开启竞态检测 |